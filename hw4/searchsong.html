<!DOCTYPE html>
<html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <style>
      /* Make the image fully responsive */
       .carousel-inner img {
        width: 80%;
        height: 50%;}

            .button {
                padding: 10px 20px;
                font-size: 15px;
                text-align: center;
                cursor: pointer;
                color: #fff;
                background-color: #395dff;
                border: none;
                border-radius: 5px;;}
            input[type=text]{
              width: 97%;
              padding: 10px 5px;
              margin: 8px 0;
              display: inline-block;
              border: 1px solid #ccc;
              border-radius: 4px;
              font-size: 15px;
              box-sizing: border-box;
            }
            body{
              margin-left: 10px;
            }
            td{
              font-size: 2em;
              font-weight: bold;
            }
          
            .green {
              font-size: 1.5em;
              color: rgb(17, 201, 130);  
              font-weight: bold;
            }
            .red {
              font-size: 1.5em;
              color: rgb(201, 17, 17);  
              font-weight: bold;
            }
            .black {
              font-size: 1.5em;
              color: rgb(0, 0, 0);  
              font-weight: bold;
            }
            div{
              font-size: 1em;
              color: rgb(0, 0, 0);  
              font-weight: bold;
            }

            </style>
    </head>
    <body>
         <div id="demo" class="carousel slide" data-ride="carousel">

          <!-- Indicators -->
          <ul class="carousel-indicators" style="width: 50%;">
            <li data-target="#demo" data-slide-to="0" class="active"></li>
            <li data-target="#demo" data-slide-to="1"></li>
            <li data-target="#demo" data-slide-to="2"></li>
          </ul>
          
          <!-- The slideshow -->
          <div class="carousel-inner" >
            <div class="carousel-item active">
              <img src="https://i.ytimg.com/vi/Z-xgIvm14bw/maxresdefault.jpg" alt="Los Angeles" width="1500" height="500">
            </div>
            <div class="carousel-item">
              <img src="https://i.ytimg.com/vi/y7hFnmQczIo/maxresdefault.jpg" alt="Chicago" width="1500" height="500">
            </div>
            <div class="carousel-item">
              <img src="https://i.ytimg.com/vi/eDfMDkgheQY/maxresdefault.jpg" alt="New York" width="1300" height="500">
            </div>
          </div>
          
          <!-- Left and right controls -->
          <a class="carousel-control-prev" href="#demo" data-slide="prev" style="width: 5%;">
            <span class="carousel-control-prev-icon"></span>
          </a>
          <a class="carousel-control-next" href="#demo" data-slide="next" style="width: 45%;">
            <span class="carousel-control-next-icon"></span>
          </a>
        </div>

        <table>
          <tr>
            <td >ค้นหาเพลง
            <a href ="newsong.html">[เพิ่มเพลงใหม่]</href></br></td>
          </tr>
        </table>
        <table> <tr><input type="text" id="src" placeholder="ชื่อเพลงที่ต้องการค้นหา"></tr></table>
        <button class="button" onclick="searchso()">ค้นหา</button>
        <div id="showc"></div><br>
        <lable id="here" class="lab"></lable>

        <script>
          function searchso(){

              arr = JSON.parse(localStorage.getItem("song"));
              ss = document.getElementById("src").value;
              html = "";
              count = 0;
              if(ss==""){
                document.getElementById('showc').innerHTML ="<div class='red'>ไม่พบเพลง กรุณาใส่ชื่อเพลง </div>";
                document.getElementById('here').innerHTML ="";}
              else{
                for (i = 0; i < arr.length; i++) {
                      if(Number(arr[i][0].indexOf(ss)) > -1)
                      count++;};
                  if(count>0){
                    document.getElementById('showc').innerHTML ="<div class='green'>พบ "+count+" เพลง</div>";
                    for (i = 0; i < arr.length; i++) {
                      if(Number(arr[i][0].indexOf(ss)) > -1)
                        html +=   "<div class='black'> เพลง "+arr[i][0]+"<br>"
                                  +"ศิลปิน "+arr[i][1]+"</div><br>"
                                  +nl2br(arr[i][2],'<br>')+"<br>"+"<hr>"+"<br>";
                        document.getElementById('here').innerHTML =html;};}
                  else{
                    document.getElementById('showc').innerHTML ="<div class='red'>ไม่พบเพลง "+document.getElementById("src").value + "</div>";
                    document.getElementById('here').innerHTML ="";} } 
                
                  
          }
          function nl2br(str,is_xhtml){
            var breakTag = (is_xhtml || typeof is_xhtml === 'undefined')
            return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');
          }
        </script>

    </body>
</html>